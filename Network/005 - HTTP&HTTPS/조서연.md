### HTTP

HyperText Transfer Protocol

인터넷 상에서 클라이언트와 서버가 자원을 주고 받을 때 쓰는 통신 규약

HTTP는 텍스트 교환이므로 중간에 데이터를 가로채면 내용이 노출된다. 이러한 문제를 해결하기위해 등장한 프로토콜이 HTTPS

**HTTP의 특징**

- 클라이언트 서버 구조
- Stateless - 상태를 보존하지 않는다.
- Connectionless

### HTTPS

HyperText TRansfer Protocol Secure

SSL 프로토콜을 사용하는 방식으로, SSL이 HTTP 메시지 바디와 헤더를 암호화한다.

### HTTPS 통신 흐름

1. A 서버를 만드는 기업(A*)이 HTTPS 통신에 사용할 공개키와 개인키를 생성한다.
2. 신뢰할 수 있는 CA 기업을 선택한다. CA(Certificate Authority)는 공개키를 저장, 관리해주는 신뢰성이 검증된 민간 기업이다.
3. CA 기업은 A* 기업의 이름, A 서버 공개키, 공개키 암호화 방법을 담은 인증서를 만들고, 이 인증서를 CA 기업의 개인키로 암호화(서명)하여 A 서버에게 제공한다. (CA 기업이 A* 기업으로부터 A 서버에 대한 정보를 받아서 A 서버 인증서를 생성하고, 이를 A* 기업에게 보낸다.)
4. 이제 A 서버는 암호화된 인증서를 갖고 있다. 이제 A 서버로 오는 요청이 공개키로 암호화된 HTTPS가 아니라면 A 서버는 암호화된 인증서를 클라이언트에게 전달한다. 
    
    클라이언트가 특정 파일을 A서버로 요청(HTTPS가 아닌 요청)했다 가정하면, A서버는 자신이 신뢰할 수 있는 서버 임을 증명하기 위해 클라이언트에게 암호화된 인증서를 보낸다. 이 인증서는 “CA 기업이 CA 기업의 개인키로 A 서버 정보를 암호화”한 인증서다.
    
5. 브라우저에 CA 기업의 공개키가 내장되어 있으므로 인증서를 해독하여 A 서버의 공개키를 얻을 수 있다.
6. 클라이언트는 A 서버의 공개키를 사용하여 자신의 대칭키를 암호화한다. 그리고 이를 A서버로 전송한다.
7. A 서버는 암호화된 대칭키를 자신의 개인키로 복호화하여 클라이언트와 동일한 대칭키를 획득한다.
8. 이후 클라이언트와 서버는 대칭키(클라이언트)를 사용하여 통신한다.

---

### HTTP 상태코드

- 1XX
    
    정보성 상태를 나타낼 때 사용한다. (잘 사용하지 않음)
    
- 2XX
    
    클라이언트가 요청한 작업을 서버가 성공적으로 수행했다는 것을 나타낼 때 사용한다.
    
    - 200 OK - 작업이 성공했다.
    - 201 Created - 요청이 정상적으로 수행되었고, 이로 인해 리소스가 새롭게 생성되었다.
- 3XX
    
    리다이렉션이 필요할 때 사용한다.
    
    - 301 Moved Permanently - 요청에 대한 응답이 301이면 HTTP 헤더이 있는 Location 필드를 찾아 해당 필드가 존재할 경우 그 URL로 리다이렉션한다.
    - 304 Not Modified - 클라이언트가 요청한 리소스가 이전 요청과 달라진 점이 없다는 의미로 이 경우 클라이언트가 캐싱해둔 리소스를 사용할 수 있다.
- 4XX
    
    클라이언트가 서버에게 잘못된 요청을 보낸 경우를 의미한다.
    
    - 400 Bad Request
    - 401 Unauthorized - 인증되지 않은 사용자가 리소스를 요청하는 경우
    - 403 Forbidden - 클라이언트가 접근이 금지된 리소스를 요청하는 경우
    - 404 Not Found - 리소스가 존재하지 않는다.
- 5XX
    
    서버에 문제가 있는 경우를 의미한다.
    
    - 500 Internal Server Error - 백엔드 어플리케이션 내에서 알 수 없는 에러가 발생했다.
    - 502 Bad Gateway - 주로 서버가 죽은 상황에 발생
    - 503 Service Unavailable - 서버가 요청을 처리할 준비가 되지 않았다 (서버 부하가 심할 때 등 일시적인 상황을 의미)
